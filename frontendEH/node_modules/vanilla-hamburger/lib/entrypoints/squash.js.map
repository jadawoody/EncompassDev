{"version":3,"file":"squash.js","sourceRoot":"","sources":["../../src/lib/entrypoints/squash.ts"],"names":[],"mappings":"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","sourcesContent":["import { Burger } from '../components/burger.js';\nimport { bar, createTemplate, createRoot, getStyles, setStyles } from '../utils/dom.js';\nimport { render, styles } from '../internals.js';\nimport type { RenderOptions } from '../types';\n\nconst tpl = createTemplate(\n  `<button part=\"button\" type=\"button\"></button><div>${bar}</div><div>${bar}</div><div>${bar}</div>`\n);\n\nexport class Squash extends Burger {\n  private [styles]!: CSSStyleDeclaration[];\n\n  constructor() {\n    super();\n    this[styles] = getStyles(createRoot(this, tpl));\n  }\n\n  protected get lines(): number {\n    return 3;\n  }\n\n  protected [render](options: RenderOptions): void {\n    const { barHeight, barStyles, margin, pressed, time, topOffset } = options;\n\n    const half = time / 2;\n    const wrapTransition = `${half}s ${this.easing} ${pressed ? '0s' : `${half}s`}`;\n    const barTransition = `${half}s ${this.easing} ${pressed ? `${half}s` : '0s'}`;\n\n    this.style.transition = `${time}s ${this.easing}`;\n\n    setStyles(this[styles][0], {\n      transition: wrapTransition,\n      transform: `${pressed ? `translateY(${barHeight + margin}px)` : 'none'}`\n    });\n\n    setStyles(this[styles][1], {\n      ...barStyles,\n      top: `${topOffset}px`,\n      transition: barTransition,\n      transform: `${pressed ? `rotate(45deg)` : 'none'}`\n    });\n\n    setStyles(this[styles][2], {\n      transition: `${half}s ${this.easing}`,\n      opacity: `${pressed ? '0' : '1'}`\n    });\n\n    setStyles(this[styles][3], {\n      ...barStyles,\n      top: `${topOffset + barHeight + margin}px`,\n      transition: `${half}s ${this.easing}`\n    });\n\n    setStyles(this[styles][4], {\n      transition: wrapTransition,\n      transform: `${pressed ? `translateY(-${barHeight + margin}px)` : 'none'}`\n    });\n\n    setStyles(this[styles][5], {\n      ...barStyles,\n      top: `${topOffset + barHeight * 2 + margin * 2}px`,\n      transition: barTransition,\n      transform: `${pressed ? `rotate(-45deg)` : 'none'}`\n    });\n  }\n}\n"]}